<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>医疗 | cyc的博客</title><meta name="author" content="→╋ぁ陈ぁ╋←"><meta name="copyright" content="→╋ぁ陈ぁ╋←"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="why 为什么要采取双区块链，采用双区块链有什么好处？为什么不能用一个区块链  答：公共区块链（MEDchain）用于记录时间不敏感的交易，如EMR摘要。联盟区块链（SUPchain）用于记录时间敏感的交易，例如紧急电子病历请求或身份已过期的医生。医疗区块链用于记录电子病历相关交易。监管区块链监督医疗区块链，发布紧急EMR共享请求，并维护分散的医生撤销名单。 PoW由MEDchain使用，使所有实">
<meta property="og:type" content="article">
<meta property="og:title" content="医疗">
<meta property="og:url" content="http://example.com/2023/12/08/%E5%8C%BB%E7%96%97/index.html">
<meta property="og:site_name" content="cyc的博客">
<meta property="og:description" content="why 为什么要采取双区块链，采用双区块链有什么好处？为什么不能用一个区块链  答：公共区块链（MEDchain）用于记录时间不敏感的交易，如EMR摘要。联盟区块链（SUPchain）用于记录时间敏感的交易，例如紧急电子病历请求或身份已过期的医生。医疗区块链用于记录电子病历相关交易。监管区块链监督医疗区块链，发布紧急EMR共享请求，并维护分散的医生撤销名单。 PoW由MEDchain使用，使所有实">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/1.jpg">
<meta property="article:published_time" content="2023-12-08T06:35:41.000Z">
<meta property="article:modified_time" content="2023-12-08T06:36:01.683Z">
<meta property="article:author" content="→╋ぁ陈ぁ╋←">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/1.jpg"><link rel="shortcut icon" href="/img/1.jpg"><link rel="canonical" href="http://example.com/2023/12/08/%E5%8C%BB%E7%96%97/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '医疗',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-12-08 14:36:01'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img0.baidu.com/it/u=1371414071,3710601700&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500')"><nav id="nav"><span id="blog-info"><a href="/" title="cyc的博客"><span class="site-name">cyc的博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">医疗</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-08T06:35:41.000Z" title="发表于 2023-12-08 14:35:41">2023-12-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-08T06:36:01.683Z" title="更新于 2023-12-08 14:36:01">2023-12-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="医疗"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="why"><a href="#why" class="headerlink" title="why"></a>why</h1><ol>
<li>为什么要采取双区块链，采用双区块链有什么好处？为什么不能用一个区块链</li>
</ol>
<p>答：<strong>公共区块链（MEDchain）用于记录时间不敏感的交易，如EMR摘要</strong>。<strong>联盟区块链（SUPchain）用于记录时间敏感的交易，例如紧急电子病历请求或身份已过期的医生</strong>。医疗区块链用于记录电子病历相关交易。监管区块链监督医疗区块链，发布紧急EMR共享请求，并维护分散的医生撤销名单。</p>
<p>PoW由MEDchain使用，使所有实体能够平等地参与生成新区块。<strong>SUPchain使用Hotstuff共识，可以快速生成区块</strong>[31]。SUPchain适用于记录对时间敏感的事务。与紧急电子病历请求(txur)和医生资格撤销(txqr)等交易相比，电子病历相关交易(txmr)不具有时间敏感性。如图4所示，txmr被记录在MEDchain中，在SUPchain中记录txur和txmr。这种基于时效性的交易分类有助于在紧急情况下迅速响应紧急EMR请求。</p>
<p>抵制自私挖矿攻击:在MEDchain中，恶意矿工可能会使用高计算能力的设备篡改MEDchain的原始数据。双区块链架构可以防御自私的挖矿攻击。</p>
<p>自私挖矿攻击的一般步骤如下：</p>
<ol>
<li><strong>私下挖矿：</strong> 攻击者在私下挖掘一系列区块，但并不立即将其广播给整个网络。</li>
<li><strong>等待时机：</strong> 攻击者等待网络中的其他诚实矿工挖掘新的区块，并公开他们的工作。</li>
<li><strong>公开挖掘：</strong> 一旦有其他诚实矿工找到新的区块，攻击者将他们私下挖掘的区块公开，覆盖掉其他矿工的工作。</li>
<li><strong>获得收益：</strong> 由于攻击者的链长于其他链，网络中的节点可能会接受攻击者的链为有效链，从而使攻击者获得奖励。</li>
</ol>
<p><strong>PoW 更注重安全性和去中心化，但牺牲了效率和能源消耗。相比之下，HotStuff 更注重在分布式环境中的性能和快速最终性，适用于一些需要高吞吐量和低延迟的应用场景。</strong></p>
<p>对区块链共识机制的某些攻击可能会篡改上传的交易，从而破坏实体之间的信任。</p>
<p><strong>抗自私挖矿攻击:为了保证emr的不变性，MEDchain记录emr的哈希值。然而，在医疗纠纷的情况下，包括HN、DN或PN在内的实体可能有动机进行自私的挖矿攻击，以操纵MEDchain获取个人利益或逃避惩罚。为了应对这种威胁，协议引入了SUPchain来定期记录mblock。</strong></p>
<p><strong>例如，在图10的情况(e)中，为了篡改早期m块(例如M3)中的交易，恶意实体会自私地挖掘并发布比当前MEDchain更长的分支。因为它不满足规则1，所以这个非法分支不会被记录在SUPchain中。此外，MEDchain记录的电子病历在此次事件发生前已被各医疗机构和患者广泛使用。篡改MEDchain会损害这些实体的利益。</strong></p>
<p><strong>鉴于受SUPchain监管的MEDchain服务于大多数实体的利益，而自私自利的分支只惠及少数人，大多数法人实体倾向于维护受监管的MEDchain。</strong></p>
<p><strong>通过利用记录在SUPchain中的Mblock哈希值，法人实体可以反驳任何非法分叉。因此，自私的挖矿攻击无法破坏我们的协议。</strong></p>
<hr>
<p>为什么采用双链：</p>
<ol>
<li><p>将三种交易进行分类，分为时间敏感性（<strong>例如紧急电子病历请求或撤销身份已过期的医生</strong>，这种交易需要及时处理，越快越好）和时间不敏感性（如<strong>EMR交易</strong>）。对于时间不敏感型的交易，我们将其放在医疗区块链上，采用PoW共识机制使所有实体能够平等地参与生成新区块。对于时间敏感型的交易，我们将其放在监管区块链上，采用Hotstuff共识机制，可以快速生成区块，快速达成共识，交易很快得到确认。<strong>这种基于时效性的交易分类有助于在紧急情况下迅速响应紧急EMR请求。</strong></p>
</li>
<li><p>抵制自私挖矿攻击，恶意矿工可能会使用高计算能力的设备篡改MEDchain的原始数据。双区块链架构可以防御自私的挖矿攻击，因为原本的区块的哈希被存储到监管区块链上，可以很容易的验证区块是否被改变</p>
</li>
</ol>
<p>为什么不能用一个区块链：</p>
<ol>
<li>如果放在一个链上，大多数提交的是EMR交易，而少部分提交紧急电子病历请求或撤销身份已过期的医生交易，EMR交易可能占用资源导致不能第一时间执行时间敏感型交易。对于时间敏感型交易，你慢一步可能患者的生命危险就加一分，可能坏医生就会盗用更多患者隐私。</li>
<li>如果只用一个区块链，可能会选择更安全的PoW共识机制，但如果只有一条链可能会产生自私挖矿攻击，恶意矿工可能会使用高计算能力的设备篡改MEDchain的原始数据。双区块链架构可以防御自私的挖矿攻击。</li>
</ol>
<h1 id="以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历"><a href="#以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历" class="headerlink" title="以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历"></a>以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历</h1><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231119200901088.png" alt="image-20231119200901088"></p>
<h4 id="why-1"><a href="#why-1" class="headerlink" title="why:"></a>why:</h4><ul>
<li><strong>系统目标</strong>：该框架旨在实现医疗电子病历（EMR）的安全共享，具体包括两个区块链（MEDchain和SUPchain）和三种节点类型（医院节点、医生节点、患者节点）。这个设计的目标是<strong>确保EMR的安全、隐私保护和有效共享。</strong></li>
</ul>
<h4 id="what"><a href="#what" class="headerlink" title="what:"></a>what:</h4><ul>
<li><strong>节点角色</strong>：<ul>
<li><strong>医院节点（HN）</strong>：参与MEDchain和SUPchain，负责存储EMR、验证请求真实性、协商共享EMR，维护医生撤销列表，监督MEDchain上的数据。</li>
<li><strong>医生节点（DN）</strong>：参与MEDchain和SUPchain，作为HN的代理，负责请求EMR、生成电子病历交易，发布交易到MEDchain。在紧急情况下，通过查询MEDchain和SUPchain实现紧急请求。</li>
<li><strong>患者节点（PN）</strong>：仅维护MEDchain，作为EMR的访问控制器，通过TAKA协议授权DN访问其他HN中的特定EMR，利用生物特征信息对EMR进行加密。</li>
</ul>
</li>
<li><strong>区块链结构</strong>：<ul>
<li><strong>MEDchain</strong>：公共区块链，使用PoW共识机制，记录与EMR相关的交易。HN负责收集、验证和聚合交易，矿工节点进一步验证和二次聚合，形成Mblocks。通过聚合签名节省MEDchain的存储空间。</li>
<li><strong>SUPchain</strong>：联盟区块链，使用Hotstuff共识，管理医生资格和紧急请求相关的交易。记录Mblocks的哈希摘要，方便患者昏迷时的紧急访问EMR。使用MPT在每个HN的本地存储中维护一致的医生撤销列表。</li>
</ul>
</li>
</ul>
<h4 id="HOW"><a href="#HOW" class="headerlink" title="HOW:"></a>HOW:</h4><ul>
<li><strong>MEDchain的工作方式</strong>：<ul>
<li>HN收集来自DN的交易，验证和聚合，形成Mblocks的底层。<strong>负责处理对时间不敏感的事务，例如电子病历相关交易</strong></li>
<li>矿工节点从HN获取交易，进行进一步验证和二次聚合，创建Mblocks的顶层。</li>
<li>使用聚合签名有效地节省MEDchain的存储空间。</li>
<li>其他实体通过验证聚合签名轻松验证交易的真实性。</li>
</ul>
</li>
<li><strong>SUPchain的功能</strong>：<ul>
<li>使用Hotstuff共识生成Sblocks，管理医生资格和紧急请求的交易。<strong>负责处理紧急电子病历请求(txur)和医生资格撤销(txqr)等时间敏感的交易</strong></li>
<li><strong>记录Mblocks的哈希摘要。方便快速查找和索引MEDchain上的电子病历</strong></li>
<li>使用MPT在每个HN的本地存储中维护一致的医生撤销列表。</li>
<li>实现聚合签名方案以提高交易验证效率。</li>
</ul>
</li>
</ul>
<h2 id="4系统构建"><a href="#4系统构建" class="headerlink" title="4系统构建"></a>4系统构建</h2><p>本节首先介绍了双区块链的系统框架和共识机制。随后，提出了威胁模型和系统的设计目标。</p>
<h3 id="4-1系统框架"><a href="#4-1系统框架" class="headerlink" title="4.1系统框架"></a>4.1系统框架</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231119200901088.png" alt="image-20231119200901088"></p>
<p>所提出的双区块链电子病历(EMR)共享框架，如图1所示，由两个区块链和三种不同类型的节点组成:医疗区块链、监管区块链、医院节点，医生节点和病人节点。下面将详细阐述每个组件。</p>
<h4 id="Hospital-Node-HN"><a href="#Hospital-Node-HN" class="headerlink" title="Hospital Node (HN)"></a>Hospital Node (HN)</h4><p>医院节点(Hospital Node, HN)医院节点同时参与MEDchain和SUPchain。hn负责存储emr，验证请求的真实性，并与合法的医生节点(dn)进行协商以共享emr。此外，HNs聚合事务签名以节省区块链存储资源，维护医生撤销列表，并通过SUPchain监督MEDchain上的数据。</p>
<h4 id="Doctor-Node-DN"><a href="#Doctor-Node-DN" class="headerlink" title="Doctor Node (DN)"></a>Doctor Node (DN)</h4><p>DN (Doctor Node) DN同时参与MEDchain和SUPchain。DNs可被视为HN的代理，并获得许可。DN的职责包括代表HN向其他机构请求电子病历，生成电子病历，并在MEDchain上发布电子病历相关交易。通常情况下，DNs通过TAKA协议获取emr。在紧急情况下，DNs在MEDchain上查询EMR关键字，并在SUPchain上发出紧急请求，以实现可跟踪和安全的EMR共享。</p>
<h4 id="Patient-Node-PN"><a href="#Patient-Node-PN" class="headerlink" title="Patient Node (PN)"></a>Patient Node (PN)</h4><p>患者节点(Patient Node, PN): PN只维护MEDchain，可以从SUPchain读取数据。PN作为EMR的访问控制器，通过TAKA协议授权DN访问存储在其他hn中的特定EMR。PNs利用生物特征信息对EMR关键字进行加密并存储在MEDchain上。此外，作为MEDchain中的轻量级节点，pn可以自由地加入或退出系统。</p>
<h4 id="Medical-Blockchain-MEDchain"><a href="#Medical-Blockchain-MEDchain" class="headerlink" title="Medical Blockchain (MEDchain)"></a>Medical Blockchain (MEDchain)</h4><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231119200921318.png" alt="image-20231119200921318"></p>
<p>如图2所示，MEDchain是一个<strong>公共区块链</strong>，它利用工作量证明(PoW)共识机制来<strong>生成新的医疗区块(Mblocks)<strong>。</strong>MEDchain用于记录与电子病历相关的交易。</strong>Mblocks中的交易记录在两层结构中。HN收集来自dn的交易，然后继续验证和聚合它们各自的签名，形成底层[30]。随后，矿工节点从HNs中获取这些交易，并对其签名进行进一步验证和二次聚合，以创建顶层。与存储交易的单个签名不同，Mblock保留了最终的聚合签名，有效地节省了MEDchain的存储空间。通过验证聚合签名，其他实体可以很容易地验证聚合签名的真实性所有事务都在Mblock中，从而大大减少了计算开销</p>
<h4 id="Supervision-Blockchain-SUPchain"><a href="#Supervision-Blockchain-SUPchain" class="headerlink" title="Supervision Blockchain (SUPchain)"></a>Supervision Blockchain (SUPchain)</h4><p>SUPchain是一个利用Hotstuff共识[31]<strong>生成监督块(Sblocks)的联盟区块链</strong>，如图3所示。其<strong>目的是管理与医生资格和紧急请求有关的交易。</strong>它还记录了Mblocks的哈希摘要，并<strong>在患者处于昏迷状态时方便紧急访问emr</strong>。此外，SUPchain使用Merkle Patricia Trie (MPT)在每个HN的本地存储中维护一致的医生撤销列表。随着医生证书的改变，这个列表可以根据需要动态扩展或收缩。为了提高交易验证的效率，SUPchain实现了一个聚合签名方案[30]。</p>
<h1 id="以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历-1"><a href="#以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历-1" class="headerlink" title="以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历"></a>以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历</h1><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>电子病历(EMR)共享使医生能够访问来自不同医院的患者历史EMR，从而提高医疗保健服务质量。基于云的EMR集中共享提高了共享效率，但存在隐私泄露的风险。区块链技术有可能通过其去中心化、可追溯性和不可变性来解决这个问题。在本研究中，我们提出了一种基于双区块链系统的隐私保护EMR共享架构，并设计了一种基于身份的三方认证密钥协议(TAKA)方案。我们的建议为患者提供了对电子病历访问的细粒度控制。双区块链在患者和医疗机构之间建立信任，不可变地存储EMR摘要，并监督身份过期的医生。<strong>TAKA协议为每个电子病历生成一个唯一的会话密钥，防止医生访问不相关的电子病历。</strong>此外，我们的建议确保了昏迷患者的安全高效的EMR共享。我们的安全分析确认该协议符合指定的目标。性能分析表明，该协议具有较高的计算效率和较低的通信开销。</p>
<p>索引术语-电子病历，区块链，认证密钥协议，隐私保护，数据安全。</p>
<h2 id="1介绍"><a href="#1介绍" class="headerlink" title="1介绍"></a>1介绍</h2><p>电子病历(electronic medical records, emr)以其便捷的存储和共享能力逐渐取代了传统的物理病历[1,2]。电子病历共享有助于医疗从业者做出更精确的诊断，并帮助研究人员开发新药或疫苗。例如，截至2022年12月3日，世界卫生组织报告全球累计确诊病例超过6.39亿例。全球医院和研究机构之间广泛共享COVID-19电子病历，为制定治疗指南和开发疫苗提供了便利[3]。因此，电子病历共享得到了工业界和研究界越来越多的关注和研究。</p>
<p>然而，EMR共享会带来相当大的未经授权访问和数据泄露风险。据HIPAA Journal[4]报道，Anthem Inc .、Premera Blue Cross和Excellus这三家健康保险公司遭受了严重的数据泄露，导致1.1327亿份医疗记录暴露或不允许披露。最近，一家医疗保健提供商，南卡罗来纳州的Forefront Dermatology，也泄露了超过200万名患者的医疗记录。此外，在2021年7月至2022年6月期间，美国卫生与公众服务部民权办公室收到了692起重大医疗数据泄露事件的报告，影响了超过4200万人的电子病历。考虑到电子病历的敏感性，其中包含个人信息这些事件阻碍了患者和医疗机构共享电子病历。因此，确保EMR共享的安全性和隐私性需要深入研究。<strong>首先，医院不愿分享患者的电子病历，以保护自身利益，避免医疗纠纷[5]。其次，只有完整不变的emr才能准确反映患者的生理状态。伪造的电子病历可能会误导医生，并可能导致医疗纠纷[6]。最后，为了保护隐私，患者需要对电子病历进行细粒度的访问控制，以防止医生访问无关的电子病历。</strong></p>
<p>为了满足上述安全需求，各种基于云的EMR共享解决方案已经被开发出来，其中包含多种加密算法[7-11]。一些基于云的EMR共享解决方案旨在降低计算成本，同时确保EMR的细粒度访问控制[8]。一些建议侧重于限制电子病历访问权限的滥用，以保护用户隐私[10]。虽然集中式解决方案可以提高效率并确保数据安全，但它们容易受到单点故障的影响。特别是这些集中存储解决方案无法在医院之间有效地建立信任。</p>
<p>因此，打破集中式EMR共享模式的局限性成为一个需要解决的问题。</p>
<p>幸运的是，新兴的区块链技术提供了一个很有前途的解决方案，因为它促进了跨多家医院的电子病历的不可变存储，并能够有效地建立信任[5,12]。一个可靠的基于区块链的EMR共享系统允许每个实体验证EMR的真实性和完整性。</p>
<p>然而，尽管有这些优势，该系统遇到了<strong>几个挑战:首先，恶意的医生可能滥用患者的授权访问无关的电子病历和危及病人的隐私。其次，昏迷的病人没有能力授权医生查看以前的电子病历。第三，对区块链共识机制的某些攻击可能会篡改上传的交易，从而破坏实体之间的信任。</strong></p>
<p>为了解决上述与医院之间电子病历共享相关的挑战，我们提出了一种采用双区块链架构的以患者为中心的电子病历共享方案。通过“以患者为中心”，我们指的是这样一个事实:患者将对访问各自的电子病历有精确的控制，授权特定的医生根据他们的个人偏好访问特定的记录。即使病人失去意识，<strong>紧急电子病历共享也需要病人的生物特征信息</strong>。</p>
<p>我们的协议确保电子病历安全并保护患者隐私。首先，<strong>公共区块链用于记录时间不敏感的交易，如EMR摘要</strong>。公共区块链建立了医院、医生和患者之间的信任关系。采用财团区块链，专门在医院之间运行并监督公共区块链，以防止自私的挖矿攻击[13,14]。此外，<strong>联盟区块链用于记录时间敏感的交易，例如紧急电子病历请求或身份已过期的医生</strong>。随后，我们设计了一种<strong>新的身份验证密钥协议</strong>，使患者能够对各自的emr进行细粒度的访问控制。最后，我们为昏迷患者开发了一个安全的EMR共享解决方案。</p>
<p>主要贡献如下:</p>
<ol>
<li><p>我们提出了一种新的EMR共享双区块链框架，提供隐私保护和数据安全。医疗区块链用于记录电子病历相关交易。监管区块链监督医疗区块链，发布紧急EMR共享请求，并维护分散的医生撤销名单。在此基础上，设计了双区块链的系统模型、数据结构和数据交互。</p>
</li>
<li><p>设计了基于身份的三方认证密钥协议(TAKA)，为不同的emr生成唯一的会话密钥。TAKA协议可以扩展为同时共享多个电子病历。此外，双区块链可以使医生紧急访问昏迷患者的电子病历。</p>
</li>
<li><p>我们提供了安全分析，证明我们的协议可以保证数据安全，保护用户隐私。我们还对TAKA协议的安全性进行了详细的证明。我们的安全性比较和性能评估表明，我们的方案具有较低的计算开销和稍低的通信开销。</p>
</li>
</ol>
<p>本文的其余部分组织如下。在第2节中，我们回顾了基于区块链的EMR共享和认证密钥协议的现有工作。相关的密码原语将在第3节中介绍。在第4节中，我们介绍了系统框架、共识机制、威胁模型和安全目标。第5节描述了提议的协议。第6节在定义的安全模型下证明了我们协议的安全性，并与其他几项工作的安全特性进行了比较。然后，第7节介绍了实现和所提出方案的性能评估。最后，第8部分对本文进行总结。</p>
<h2 id="2相关工作"><a href="#2相关工作" class="headerlink" title="2相关工作"></a>2相关工作</h2><p>在本节中，我们介绍了现有的基于区块链的EMR共享方案和认证密钥协议的相关研究。</p>
<h3 id="2-1基于区块链的EMR共享"><a href="#2-1基于区块链的EMR共享" class="headerlink" title="2.1基于区块链的EMR共享"></a>2.1基于区块链的EMR共享</h3><p>区块链在节点之间建立一个公共的分布式账本，以保证数据的一致性和不变性[15]。这些特点使得区块链技术广泛应用于医疗保健管理。目前，许多研究都集中在基于区块链的EMR共享方案中的用户隐私和数据安全[3,16 - 24]。</p>
<p>近年来，人们提出了各种架构来保证EMR共享的安全性[3,16 - 18]。为了高效共享COVID-19电子病历，Yu[3]设计了一个基于联盟区块链的电子病历共享平台，并引入了假名机制来保护患者隐私。Amofa[16]提出了一种将智能合约与预先指定的策略相匹配的区块链架构，以保证EMR共享的安全性。庄[17]允许患者控制授权的请求者列表，并隐藏他们不想分享的电子病历。特别是，以患者为中心的医疗保健系统可以在患者无意识的情况下安全地共享电子病历。Xu[18]创新性地提出了一种双区块链结构，分别管理患者健康数据和医生诊断，减少了通信和计算开销。然而，其中一些体系结构可能存在漏洞，例如对患者和医生使用相同的对称密钥，这可能会危及系统的安全性。</p>
<p>其他的研究集中在结合区块链和加密技术来实现EMR共享的访问控制、身份认证和隐私保护[19-24]。为了避免患者在跨医院治疗过程中需要进行重复认证，Yazdinejad[19]提出了一种基于区块链的医院网络的高效去中心化认证方案。然而，该方案要求患者将其公钥和私钥发送到参与转移的医院，这增加了医疗数据泄露的风险。</p>
<p>Chen[20]提出了一种安全的医院间EMR共享系统，利用智能合约的程序化授权来保证EMR的安全性，避免医疗资源的浪费。为了使医生能够存储或访问EMR，同时保护患者的隐私，Liu[21]提出了一种基于医院私有区块链的EMR共享方案。</p>
<p>该方案允许实体生成自己的公钥和私钥，以确保数据的机密性。然而，参与者和系统管理之间的频繁通信可能导致单点故障漏洞。Sun[22]采用基于属性的加密(attribute-based encryption, ABE)技术实现EMR的细粒度访问控制，由患者和医生共同制定EMR access Policy。医生对数据请求者进行认证，降低患者操作难度。然而，该方案依赖于一个安全的通道来发送密钥，这减少了本文已被接受发表在IEEE网络科学与工程学报。这是作者的版本，尚未完全编辑，内容可能会在最终出版之前发生变化。的可用性。Tan[23]基于密文策略属性加密(cipher policy attribute- Based encryption, CP-ABE)提出了一种基于区块链的EMR共享方案，可以跟踪并直接撤销满足属性集的恶意用户。Wu[24]提出了一种采用DiffieHellman密钥交换的细粒度EMR访问控制解决方案。它引入区块链来提高EMR存储和共享的效率。但是，密钥交换机制不能验证身份，容易受到中间人攻击。</p>
<p>上述基于区块链的EMR共享方案实现了不同的安全目标，提高了共享效率。然而，之前的一些工作未能为电子病历设计以患者为中心的细粒度访问控制。某些细粒度访问控制解决方案需要部署访问策略或预先分发密钥，从而限制了患者调整EMR请求者权限的灵活性</p>
<h3 id="2-2认证密钥协议"><a href="#2-2认证密钥协议" class="headerlink" title="2.2认证密钥协议"></a>2.2认证密钥协议</h3><p>AKA (Authentication key agreement)协议通过建立会话密钥，方便在不安全场景下对参与者进行认证。参与者必须确保会话密钥的机密性，这样除了他们的对等体之外，没有其他实体可以获得它们[25]。一些学者将AKA协议与EMR共享相结合，以对抗中间人攻击并保护EMR的机密性[11,26]。为了保护患者隐私，Zhang[11]提出了云与用户之间的匿名认证，防止用户身份在认证过程中暴露。Feng[26]提出了一种基于双方计算的协同认证协议，恶意实体仅凭其中一个部分私钥无法通过医疗服务器的验证。然而，这两种方案都不是基于区块链架构，都有传统的集中式EMR共享的缺点。</p>
<p>我们基于Joux[27]和Wang[28]设计了一个基于身份的三方认证密钥协议，该协议允许医生在患者授权下安全地与另一家医院协商特定的会话密钥以共享EMR。受Bittl[29]的启发，我们使用<strong>两个反向哈希链来生成加密因子</strong>。<strong>患者可以在他们的会话密钥中包含一个加密因子，这允许对他们的电子病历进行精确的访问控制。</strong></p>
<p>通过将加密因子集成到会话密钥中，患者可以实现对其电子病历的灵活而详细的访问控制。</p>
<h2 id="3预赛"><a href="#3预赛" class="headerlink" title="3预赛"></a>3预赛</h2><p>在本节中，我们为我们的工作提供必要的准备。具体来说，我们的协议采用双线性映射来建立认证密钥协议。通过利用基于k-CAA和CDH计算难题的证明缩减来证明我们协议的安全性。</p>
<h3 id="3-1双线性映射"><a href="#3-1双线性映射" class="headerlink" title="3.1双线性映射"></a>3.1双线性映射</h3><p>设G1和G2是素数q相同的群。特别地，G1是加性环群，其中P为G1的生成器，而G2是一个乘法循环群。如果双线性映射e´:G1 × G1→G2具有以下三个性质，则称它是可容许的。</p>
<p>1)双线性:对于任意P1, P2∈G1和a, b∈Z * q, e(aP1, bP2) &#x3D; e(P1, P2) ab。</p>
<p>2)非简并:存在Q∈G1使得e(Q, Q) 6&#x3D; 1G2，其中1G2是G2的单位元。</p>
<p>3)可计算性:对于所有P1, P2∈G1, e ^ (P1, P2)都可以有效计算。</p>
<h3 id="3-2复杂性假设"><a href="#3-2复杂性假设" class="headerlink" title="3.2复杂性假设"></a>3.2复杂性假设</h3><p>1)带k叛徒的共谋攻击算法(k- caa)问题:对于整数k，给定P, rP∈G1， {1r + w1p, 1r + w2p，···，1r +wk P}，其中r∈Z∗q为未知元素，w1, w2，···，wk∈Z∗q，计算 w, 1r + wp ，其中w∈Z∗q \ {w1, w2，···，wk}。k-CAA假设:假设不存在能够以不可忽略概率解决kCAA问题的概率多项式时间算法。</p>
<p>2)计算性Diffie-Hellman (CDH)问题:给定P, aP, bP∈G1，其中a, b∈Z * q为未知随机数，计算abP。</p>
<p>CDH假设:假设不存在能够以不可忽略概率解决CDH问题的概率多项式时间算法。</p>
<h2 id="4系统构建-1"><a href="#4系统构建-1" class="headerlink" title="4系统构建"></a>4系统构建</h2><p>本节首先介绍了双区块链的系统框架和共识机制。随后，提出了威胁模型和系统的设计目标。</p>
<h3 id="4-1系统框架-1"><a href="#4-1系统框架-1" class="headerlink" title="4.1系统框架"></a>4.1系统框架</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231119200901088.png" alt="image-20231119200901088"></p>
<p>所提出的双区块链电子病历(EMR)共享框架，如图1所示，由两个区块链和三种不同类型的节点组成:医疗区块链、监管区块链、医院节点，医生节点和病人节点。下面将详细阐述每个组件。</p>
<h4 id="Hospital-Node-HN-1"><a href="#Hospital-Node-HN-1" class="headerlink" title="Hospital Node (HN)"></a>Hospital Node (HN)</h4><p>医院节点(Hospital Node, HN)医院节点同时参与MEDchain和SUPchain。hn负责存储emr，验证请求的真实性，并与合法的医生节点(dn)进行协商以共享emr。此外，HNs聚合事务签名以节省区块链存储资源，维护医生撤销列表，并通过SUPchain监督MEDchain上的数据。</p>
<h4 id="Doctor-Node-DN-1"><a href="#Doctor-Node-DN-1" class="headerlink" title="Doctor Node (DN)"></a>Doctor Node (DN)</h4><p>DN (Doctor Node) DN同时参与MEDchain和SUPchain。DNs可被视为HN的代理，并获得许可。DN的职责包括代表HN向其他机构请求电子病历，生成电子病历，并在MEDchain上发布电子病历相关交易。通常情况下，DNs通过TAKA协议获取emr。在紧急情况下，DNs在MEDchain上查询EMR关键字，并在SUPchain上发出紧急请求，以实现可跟踪和安全的EMR共享。</p>
<h4 id="Patient-Node-PN-1"><a href="#Patient-Node-PN-1" class="headerlink" title="Patient Node (PN)"></a>Patient Node (PN)</h4><p>患者节点(Patient Node, PN): PN只维护MEDchain，可以从SUPchain读取数据。PN作为EMR的访问控制器，通过TAKA协议授权DN访问存储在其他hn中的特定EMR。PNs利用生物特征信息对EMR关键字进行加密并存储在MEDchain上。此外，作为MEDchain中的轻量级节点，pn可以自由地加入或退出系统。</p>
<h4 id="Medical-Blockchain-MEDchain-1"><a href="#Medical-Blockchain-MEDchain-1" class="headerlink" title="Medical Blockchain (MEDchain)"></a>Medical Blockchain (MEDchain)</h4><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231119200921318.png" alt="image-20231119200921318"></p>
<p>如图2所示，MEDchain是一个<strong>公共区块链</strong>，它利用<strong>工作量证明(PoW)共识机制</strong>来<strong>生成新的医疗区块(Mblocks)<strong>。</strong>MEDchain用于记录与电子病历相关的交易。</strong>Mblocks中的交易记录在两层结构中。HN收集来自dn的交易，然后继续验证和聚合它们各自的签名，形成底层[30]。随后，矿工节点从HNs中获取这些交易，并对其签名进行进一步验证和二次聚合，以创建顶层。与存储交易的单个签名不同，Mblock保留了最终的聚合签名，有效地节省了MEDchain的存储空间。通过验证聚合签名，其他实体可以很容易地验证聚合签名的真实性所有事务都在Mblock中，从而大大减少了计算开销</p>
<h4 id="Supervision-Blockchain-SUPchain-1"><a href="#Supervision-Blockchain-SUPchain-1" class="headerlink" title="Supervision Blockchain (SUPchain)"></a>Supervision Blockchain (SUPchain)</h4><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123162135386.png" alt="image-20231123162135386"></p>
<p>SUPchain是一个<strong>利用Hotstuff共识</strong>[31]<strong>生成监督块(Sblocks)的联盟区块链</strong>，如图3所示。其<strong>目的是管理与医生资格和紧急请求有关的交易。</strong>它还记录了Mblocks的哈希摘要，并<strong>在患者处于昏迷状态时方便紧急访问emr</strong>。此外，SUPchain使用Merkle Patricia Trie (MPT)在每个HN的本地存储中维护一致的医生撤销列表。随着医生证书的改变，这个列表可以根据需要动态扩展或收缩。为了提高交易验证的效率，SUPchain实现了一个聚合签名方案[30]。</p>
<h3 id="4-2共识机制"><a href="#4-2共识机制" class="headerlink" title="4.2共识机制"></a>4.2共识机制</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123162244054.png" alt="image-20231123162244054"></p>
<p>区块链中的共识机制主要解决分布式场景下区块排序的难题。在我们的协议中，<strong>PoW由MEDchain使用，使所有实体能够平等地参与生成新区块。</strong></p>
<p>MEDchain适用于记录对时间不敏感的事务。考虑到医院之间的竞争，我们可以合理地假设三分之二的医院是诚实和不串通的。另一方面，<strong>SUPchain使用Hotstuff共识，可以快速生成区块</strong>[31]。SUPchain适用于记录对时间敏感的事务。</p>
<p>与紧急电子病历请求(txur)和医生资格撤销(txqr)等交易相比，电子病历相关交易(txmr)不具有时间敏感性。如图4所示，txmr被记录在MEDchain中，在SUPchain中记录txur和txmr。这种基于时效性的交易分类有助于在紧急情况下迅速响应紧急EMR请求。如果一个实体只维护MEDchain，它必须承担与MEDchain事务池相关的操作。如果一个实体只维护SUPchain，它需要向SUPchain事务池中添加新的mblock，同时也向池中添加事务。如果一个实体同时维护MEDchain和SUPchain，除了这些操作之外，它还必须识别和分类来自其他实体的事务。</p>
<h3 id="4-3威胁模型和安全目标"><a href="#4-3威胁模型和安全目标" class="headerlink" title="4.3威胁模型和安全目标"></a>4.3威胁模型和安全目标</h3><p>在电子病历共享过程中，恶意医生可能会滥用或伪造患者的授权来访问无关的电子病历。由于双区块链构成了医疗纠纷的判断基础，每个实体都有动机操纵双区块链上的数据以谋取私利。</p>
<p>在医疗环境中，医院相互竞争和合作。有理由认为，只有不到三分之一的医院会恶意串通。</p>
<p>根据上述威胁模型和安全需求，协议的安全目标如下:</p>
<p>1)授权安全:患者为医生生成访问存储在其他医院的患者emr的权限。攻击者不应该伪造病人的授权以通过医院的验证。</p>
<p>2)数据保密性:未经授权的实体不得访问EMR或解密任何EMR密文。</p>
<p>3)认证密钥协议:医生和医院之间的身份认证必须在协商会话密钥时得到患者的授权才能完成。</p>
<p>4)向前和向后保密:在过去和未来共享的emr应该保持安全，即使参与者不知道泄露的长期密钥和当前会话密钥。</p>
<p>5)抵制自私挖矿攻击:在MEDchain中，恶意矿工可能会使用高计算能力的设备篡改MEDchain的原始数据。双区块链架构可以防御自私的挖矿攻击。</p>
<h2 id="5协议"><a href="#5协议" class="headerlink" title="5协议"></a>5协议</h2><p>在本节中，我们首先概述协议的过程。然后对协议进行了详细的描述。</p>
<h3 id="5-1方案概述"><a href="#5-1方案概述" class="headerlink" title="5.1方案概述"></a>5.1方案概述</h3><p>当医生需要查看患者在其他医院的电子病历时，患者会授予授权。如果患者是有意识的，则使用TAKA协议将授权直接授予医生。MEDchain用于验证电子病历的完整性。如果患者处于昏迷状态，医生会在SUPchain上发布紧急请求，以安全地访问患者的电子病历。</p>
<p>该协议使医院能够管理医生许可证。医院为受雇的医生发放许可证并规定有效期。在那之后，医院利用SUPchain保存一份被过早吊销许可证的医生的吊销名单。SUPchain还监督MEDchain，以防止自私的挖矿攻击。</p>
<h3 id="5-2协议说明"><a href="#5-2协议说明" class="headerlink" title="5.2协议说明"></a>5.2协议说明</h3><p>我们的协议过程包括五个步骤:(1)系统设置;(2)登记;(3) EMR管理;(4) EMR共享;(5)监督。</p>
<h4 id="阶段1系统设置"><a href="#阶段1系统设置" class="headerlink" title="阶段1系统设置"></a>阶段1系统设置</h4><p>PKG (global trusted private key generator)初始化协议中需要的系统参数，如下所示。</p>
<p>PKG选择具有相同素数阶q的加性群G1和乘性群G2, P是G1的产生器。PKG随机选择一个双线性映射e↑:G1 × G1→G2，设g &#x3D;↑e(P, P)。PKG随机选择一个秘密值s∈Z∗q作为主私钥，输出Ppub &#x3D; sP作为主公钥。</p>
<p>此外,包裹选择一些安全哈希函数H0:{0,1}∗∗→Z q, H1:{0,1}∗∗→G 1, H2:{0,1}∗∗1××G G G∗∗1×1→Z∗q, H3: G2→{0,1}∗,H4: G→Z∗∗1 q, H5: Z Z∗∗q→q,类推:{0,1}∗→{0,1}∗,H7:{0,1}∗∗1××G G→Z∗∗1 q, Hsk:{0,1}∗→{0,1}k (sk代表了会话密钥,k &#x3D; | sk |)。</p>
<p>PKG发布系统参数:params &#x3D; (G1, G2, e, q, g, P, P - pub, H0, H1, H2, H3, H4, H5, H6, H7, Hsk)。</p>
<h4 id="阶段2注册"><a href="#阶段2注册" class="headerlink" title="阶段2注册"></a>阶段2注册</h4><p>各实体通过安全通道向PKG发送注册请求。然后PKG为<strong>每个实体提取两个私钥，一个用于签署消息，另一个用于协商会话密钥。</strong>此外，每个实体都在双区块链中注册一个系统账户。为了清晰起见，我们将实体U的注册过程描述如下。</p>
<ol>
<li><p>实体U随机选择一个秘密值xU∈Z * p，计算出LU1 &#x3D; xU p。实体U使用自己唯一的身份IDU计算出QU &#x3D; H0(IDU)、QU &#x3D; H1(IDU)并存储在本地。然后U将IDU和LU1作为注册请求提交给PKG。</p>
</li>
<li><p>PKG收到请求后，选择一个随机值yU∈Z * p，计算出LU2 &#x3D; yU p, LU &#x3D; LU1 + LU2, f &#x3D; H7(ID, pub, LU)， dU &#x3D; (yU + sf) mod q。</p>
</li>
<li><p>PKG计算:↑QU &#x3D; H1(IDU)，↑SU &#x3D; s↑QU。最后，PKG将(LU, dU, SU)发送给U。</p>
<p>实体U安全存储LU、dU、xU和s_ U。U可以使用(LU、dU、xU)对消息进行签名，使用(QU)对授权进行授权或验证，使用(QU、SU)与其他实体协商会话密钥。此外，该协议采用Gentry[30]的聚合签名方案对双区块链上的交易进行签名。</p>
</li>
<li><p>在PKG注册后，医生也在医院注册。当医院聘请医生时，它在ρ &#x3D; (IDHN, IDDN, EXP)中指定医生许可证的有效期EXP，根据Du[32]签署ρ并将其发给医生。</p>
</li>
</ol>
<h4 id="第三阶段电子病历管理"><a href="#第三阶段电子病历管理" class="headerlink" title="第三阶段电子病历管理"></a>第三阶段电子病历管理</h4><p>我们的建议使用hn来管理pn的电子病历，利用hn始终在线的事实。当患者(如PN C)第一次访问医院(如HN a)时，他们协商会话密钥并生成两个初始因子sα和sβ，如图5所示。然后，A和C使用会话密钥进行安全通信，并使用初始因子生成加密因子，以实现C的EMR的细粒度访问控制。具体流程如下。</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123163055156.png" alt="image-20231123163055156"></p>
<ol>
<li><p>C计算KCA &#x3D; e(C SC, C QA)。然后C选择两个随机数c1, c2∈Z * q，计算Tc1 &#x3D; c1P, Tc2 &#x3D;c2P。最后，C发送Tc1, Tc2给A。</p>
</li>
<li><p>A从C接收到Tc1, Tc2后，随机选择a1, a2∈Z * q，计算出Ta1 &#x3D; a1P, Ta2 &#x3D; a2P, KAC &#x3D; φ e(φ SA， φ QC)。A将Ta1、Ta2发送给C，生成对称会话密钥skAC &#x3D; Hsk(IDC kidaka1tc1ka2tc2kkkac kTc1kTc2kTa1kTa2)。</p>
</li>
<li><p>A, C收到回复Ta1, Ta2后，也生成对称密钥skCA &#x3D; Hsk(IDC kIDAkc1Ta1k c2Ta2kKCAkTc1kTc2kTa1kTa2)。</p>
</li>
</ol>
<ol start="4">
<li>根据Ta1, Ta2, Tc1, Tc2，双方生成了两个相同的秘密值sα &#x3D; c1Ta2 &#x3D; a2Tc1, sβ &#x3D; c2Ta1 &#x3D;a1Tc2。</li>
</ol>
<p>诊断完成后，相关DN(例如医生A¯)生成C的EMR和包含C的EMR散列的医疗记录txmr事务。然后A¯将EMR和相应的txmr释放到A医院。如(1)所示，txmr包括事务类型λ0、DN身份IDA¯、C的EMR的哈希摘要hEMR、当前时间戳ts1、该事务主要组件的哈希值htxM &#x3D;H(λ0, IDA¯，hEMR, ts1)，这是txmr的标识符，A¯σA¯&#x3D;SignA¯(htm)的签名。</p>
<p>txmr &#x3D; {λ0, IDA¯，hEMR, ts1, htm， σA¯}(1)</p>
<p>A医院存储C医院的EMR和相关EMR交易。然后，A聚合事务签名并将这些事务上传到MEDchain。具体来说，A需要完成以下步骤</p>
<ol>
<li>A用txmr的hEMR来验证EMR的完整性，(htm， σA¯)来验证txmr的有效性。之后，A根据每个EMR的hEMR为C的EMR生成顺序递增的EMR标识符。</li>
</ol>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123163213646.png" alt="image-20231123163213646"></p>
<ol start="2">
<li><p>A根据有效EMR的数量，利用sα和sβ生成相等数量的加密因子，使其与每个EMR一一对应。如图6所示，A计算出s 0 α &#x3D; H4(sα)， s 0 β &#x3D; H4(sβ)。设C的emr个数为n, A计算哈希链，其中s 1 β &#x3D; H5(s 0 β)， s 2 β &#x3D; H5(s 1 β)，···，s n β &#x3D; H5(s n−1 β)。然后A将这些值反向插入到另一个哈希链中，得到s1 α &#x3D; H5(s 0 α⊕s n β)， s2 α &#x3D; H5(s 1 α⊕s n−1 β)，···，s n α &#x3D; H5(s n−1 α⊕s 1 β)。最后，A得到加密因子集合{s1 α， s2 α，···，s j α，···，s n α}，其中j为EMR标识符。</p>
</li>
<li><p>A将n笔交易{tx1 mr，···，txn mr}组合成默克尔树，并基于{htxM1，···，htxMn}计算默克尔根rootM。然后A生成一个关于rootM的事务TXmr。</p>
</li>
</ol>
<p>TXmr &#x3D; {λ0, IDA, rootM, ts2, hTXM， σA}(2)</p>
<p>与(2)一样，TXmr包含事务类型λ0、HN标识IDA、默克尔根根rootM、时间戳ts2、TXmr标识hTXM &#x3D; H(λ0, IDA, rootM, ts2)和A的签名σA &#x3D; SignA(hTXM)。基于Gentry [30]， A将集合T &#x3D; {tx1 mr，···，txn mr, TXmr}中的签名聚合为一个聚合签名σagg。A去掉T的所有特征，得到T&#x2F;σ。最后，A向矿工发放(T&#x2F;σ， σagg)。A使用skAC对emr和相应的html进行加密，然后发送给C。</p>
<p>在从A接收到(T&#x2F;σ， σagg)后，每个矿工通过验证签名σagg来验证T&#x2F;σ中所有交易的有效性。如图2所示，矿工基于{hTXM1，···，hTXMn}生成一个默克尔根，并进一步将{σ 1 agg，···，σn agg}聚合为一个聚合签名。</p>
<p>然后，矿工通过PoW将一个新的Mblock上传到MEDchain。</p>
<p>在对来自A的数据进行解密后，对于每个EMR, C使用html访问MEDchain上的相关txmr，并检查EMR的完整性。然后C从EMR中提取关键词W</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123163352834.png" alt="image-20231123163352834"></p>
<p>并创建EMR条目EE，如(3)所示，其中IDA是存储EMR的HN标识，j是EMR标识符。</p>
<p>EE &#x3D; {WkhtxMkIDAkj} (3) </p>
<p>C然后用生物特征信息(例如指纹fp)加密EE，得到加密后的EMR条目EEE &#x3D; H6(f p)⊕EE，并通过调用智能合约将EEE存储在MEDchain中。C也执行与A相同的操作来获得相同的加密因子{s1 α， s2 α，···，s n α}。</p>
<h4 id="第四阶段EMR共享"><a href="#第四阶段EMR共享" class="headerlink" title="第四阶段EMR共享"></a>第四阶段EMR共享</h4><p>我们分别设计了正常和紧急情况下的EMR共享。在正常情况下，患者授权医生访问电子病历。在紧急情况下，昏迷的病人不能直接委托医生。医生利用双区块链来搜索和访问患者的电子病历。</p>
<p>假设PN C在HN B接受治疗时，DN B¯需要获取存储在HN A中的C的EMR(标识符为j)。如图7所示，B¯先与C交互获得授权，再与A交互获得加密后的EMR。具体流程如下。</p>
<ol>
<li><p>基于Wang [28]， B¯和C¯协商认证会话密钥skCB¯&#x3D; skBC¯。C计算QA &#x3D; H0(IDA)， QB¯&#x3D; H0(IDB¯)，αC &#x3D; 1c1 +QA+QB¯p。基于标识符j, C使用s j α生成c1s j α p。然后C加密并发送(αC, c1s j αP, j)给B¯作为授权验证。</p>
</li>
<li><p>从C中得到(αC, c1s j αP, j)后，B¯随机选择一个秘密值B∈Z * q，计算出Tb &#x3D; bP, gb &#x3D; g B， αCB¯&#x3D; B αC。另外，B¯会生成一个正常请求θ &#x3D; (IDC kj)。B¯用H3(gb)加密θ得到N &#x3D; H3(gb)⊕θ。</p>
</li>
</ol>
<p>根据注册阶段得到的(LB¯，dB¯，xB¯)，B¯计算h &#x3D; H2 (θ kIDB¯k pub kLB¯k Tb)和v &#x3D; B + h (dB¯+ xB¯)mod q。θ的签名为σ &#x3D; (LB¯，h, v)，最后B¯将(αCB¯，N， σ， IDC， ρB¯)发送给A，其中ρB¯为B¯的许可。</p>
<ol start="3">
<li>A收到B¯的正常请求后，首先检查B¯的合法性，如图8所示。若B¯不在图3所示的撤销列表中，且ρB¯有效，则A认为B¯是合法的。如果C的EMR存在，则A计算出QB¯&#x3D; H0(IDB¯)，α0 CB¯&#x3D; Tc1 + (QA + QB¯)P, g 0 b &#x3D; φ e(α 0 CB¯，α0 CB¯)，θ0 &#x3D; H3(g 0 b)⊕N。</li>
</ol>
<p>然后A计算f 0 &#x3D; H7 (IDB¯kPpubkLB¯)，T 0 b &#x3D; vP−h (LB¯+ f 0Ppub)， h 0 &#x3D; H2 (θ 0 kIDB¯kPpubkLB¯k T 0 b)。</p>
<p>注意，如果公式(4)成立，则A可以确认B¯是由C授权的，并且正常请求θ没有被篡改。</p>
<p>h 0 &#x3D; H2 (θ 0 kIDBk Ppub kLBk T 0 b) ?&#x3D; h (4)g 0 b &#x3D;ˆe (Tc1 + QAP + QB¯PαCB¯)&#x3D;ˆe  (c1 +质量+ QB¯)P, b 1 c1 +质量+ QB¯P  &#x3D;ˆe (P, P) (c1 +质量+ QB¯)·b c1 +质量+ QB¯&#x3D;ˆe (P,b P) &#x3D; gbθ0 &#x3D; H3 (g 0 b)⊕N &#x3D; H3 (g 0 b)⊕(H3 (gb)⊕θ)&#x3D; H3 (gb)⊕(H3 (gb)⊕θ)&#x3D;θT 0 b &#x3D;−副总裁h(磅¯+ f 0 Ppub) &#x3D; b + h (dB¯+ xB¯) P−h(磅¯+ f 0 Ppub) &#x3D; b + h (dB¯+ xB¯) P−h xB¯P +¯P + f 0 Ppub  &#x3D; b + h (dB¯+ xB¯) P−h xB¯P +¯P + f 0 sP  &#x3D; b + h (dB¯+ xB¯)−h (xB¯+ yB¯+ f 0)  P &#x3D; b + h ((yB¯+ fs) + xB¯)−h (xB¯+ yB¯+ f 0)  P &#x3D; bP结核h &#x3D; 0 &#x3D; H2(θ0 kIDBk Ppub kLBk T 0 b) &#x3D; H2(θkIDBk Ppub kLBk Tb) &#x3D; h 4)计算出租车¯−C &#x3D;ˆe(结核病,c1P) s j αa1根据EMR标识符j in θ。A得到skAB¯&#x3D; Hsk (IDB¯k IDAk a1Tb 0 kKAB¯−C kTb 0 kTa1)。A用skAB¯加密(EMR, htxMj)得到ε，其中htxMj是EMR相关事务txj先生的标识符，然后A将(Ta1， ε)发送给B¯。</p>
<ol start="5">
<li>B¯从A接收到(ε， Ta1)后，计算KBA¯−C &#x3D; δ e(Ta1, c1s j αP) B。如果式(5)成立，则B¯证实了Ta1的完备性。之后，B¯得到键值skBA¯&#x3D; Hsk (IDB¯k IDAk bTa1k KBA¯−C k Tbk Ta1)。B¯使用skBA¯对ε进行解密，得到目标EMR的明文。然后，B¯利用htxMj在MEDchain上查找相关事务txjmr，以确认EMR的完整性。</li>
</ol>
<p>KAB¯−C ?&#x3D; KBA¯−C(5)正确性:KAB¯−C &#x3D; e(Tb, c1P) s j αa1 &#x3D; e(bP, c1P) s j αa1 &#x3D; e(P, P) bc1s j αa1 KBA¯−C &#x3D; e(Ta1, c1s j αP) b &#x3D; e(a1P, c1s j αP) b &#x3D; e(P, P) a1c1s j αb</p>
<p>值得一提的是，我们的协议支持同时共享多个emr。例如，B¯和A计划共享三个标识符为j−1、j+1、j+2的emr。然后将上述协议中的s j α替换为(s j−1 α s j+1 α s j+2 α)， B¯和A生成三个emr的特定会话密钥。</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123163615737.png" alt="image-20231123163615737"></p>
<h4 id="案例2应急EMR共享"><a href="#案例2应急EMR共享" class="headerlink" title="案例2应急EMR共享"></a>案例2应急EMR共享</h4><p>无意识的C不能授权B¯获取之前的电子病历。在这种情况下，B¯利用C的指纹访问MEDchain获取C的EMR条目，并根据EMR条目确定所需的EMR。B¯然后在征得B的同意后在SUPchain上发布紧急EMR共享请求。由于双区块链的不可否认性，B¯可以快速建立信任，并安全地与其他实体(如A)共享emr。C在处理后访问双区块链，查看其在紧急情况下共享emr的历史。具体流程如下。</p>
<ol>
<li>B¯以C的身份IDC和指纹fp调用MEDchain智能合约，搜索C的加密EMR条目。如果IDC和fp有效，智能合约自动将C的EEE通过EE &#x3D; H6(f p)⊕EEE进行解密，并返回C的EE。然后B¯根据EE &#x3D; {WkhtxMkIDAkj}中的关键字W确定存储在A中的C的EMR(标识符为j)是否有用。</li>
</ol>
<ol start="2">
<li>¯B和B txur在一起产生一个事务的紧急请求,这意味着B¯’s合法性保证了B, B¯产生紧急请求η&#x3D; (IDC kj)和{户珥,λ1 IDB¯IDB ts3, htxU,σB¯}包含事务类型λ1,DN身份IDB¯HN身份IDB,哈希的紧急请求户珥&#x3D; H(η),时间戳ts3,哈希的主要组件htxU &#x3D; H(λ1 IDB¯IDB、户珥ts3),这是txur的标识符,和B¯’s签名σB¯&#x3D; SignB¯(λ1 IDB¯户珥,ts3)。¯B然后将这些数据发送给B。如果B¯是合法的，B签署交易σB &#x3D; SignB(htxU)。B将σB和σB¯相加得到σBB¯，生成如式(6)所示的txur。如果σBB¯有效，</li>
</ol>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123163756618.png" alt="image-20231123163756618"></p>
<p>SUPchain通过Hotstuff共识记录txur[31]。</p>
<p>txur &#x3D; {λ1, IDB¯，IDB, hUR, ts3, htxU， σBB¯}(6)</p>
<p>3)如图9所示，B¯选择一个随机值B∈Z∗q，计算Tb &#x3D; bP，并将(Tb， η， htxU)发送给a。如图8所示，a在收到B¯的紧急请求后，使用η和htxU调用SUPchain智能合约，确认η是否被记录在SUPchain中。如果txur存在，智能合约将txur返回给A，并通知C这个紧急请求。如果txur的签名σBB¯有效，则A认为B¯合法，η有效。然后A计算KAB¯&#x3D;↑e(↑SA，↑QB¯)，skAB¯&#x3D; Hsk(IDB¯kIDAka1TbkKAB¯kTbkTa1)。A将相关EMR用skAB¯加密得到密文ε，并将(Ta1， ε)发送给B¯。</p>
<ol start="4">
<li>B¯接收到A的ε后，计算出KBA¯&#x3D;¾e(¾SB¯，¾QA)， skBA¯&#x3D; Hsk(IDB¯kIDAkbTa1kKBA¯kTbkTa1)。B¯用skBA¯解密ε以得到期望的EMR。根据EE &#x3D; {WkhtxMkIDAkj}中的html, B¯在MEDchain上查找txj mr，并验证EMR的完整性和有效性。</li>
</ol>
<h4 id="第五阶段监督"><a href="#第五阶段监督" class="headerlink" title="第五阶段监督"></a>第五阶段监督</h4><p>SUPchain有两个功能:监督MEDchain的mblock和管理过早过期的DNs。</p>
<p>HNs同时维护MEDchain和SUPchain。如图1所示，当HN生成或接收到一个新的有效的Mblock时，HN将其复制到SUPchain事务池中。从SUPchain的角度来看，当前leader HN从SUPchain交易池中选择新Mblocks中最长的分支，并以Merkle树的形式记录在新的Sblock中。选择MEDchain分支的具体规则如下。</p>
<p>规则1。新的MEDchain分支的父块必须是前一个Sblock中记录的最新的Mblock。</p>
<p>规则2。当满足规则1时，选择最长的MEDchain分支。</p>
<p>规则3。当有多个等长分支满足规则2时，选择Merkle树根哈希值最小的分支。</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20231123194044680.png" alt="image-20231123194044680"></p>
<p>例如，HN计划生成一个新的Sblock (S4)，如图10所示。HN检查S3，确认MEDchain最新的Mblock是M10。情况(a)和(b)不满足规则1，被丢弃。由于案例(c)的分支比案例4的分支短，HN选择案例(d)的分支，并根据规则2将其记录在S4中。如果生成了新的Sblock，则意味着所有hn都承认了MEDchain新分叉的有效性。电子病历记录于在SUPchain的监督下，医疗机构可以安全地交叉使用MEDchain。</p>
<p>在医疗情况下，HN可以在DN的许可证自然到期之前撤销或重新授予其许可证。医院(例如HN E)通过SUPchain发布关于医生(例如DN E¯)的资格撤销交易txqr。具体来说，E在txqr中增加了一个资格撤销通知QR &#x3D; {IDE¯，EXP, AoD}，其中IDE¯为DN标识，EXP为E¯许可证的自然到期日期，AoD为添加或删除标记。AoD &#x3D; 0表示将E¯添加到吊销列表中，AoD &#x3D; 1表示从吊销列表中删除E¯</p>
<p>如式(7)所示，txqr包括交易类型λ2、HN身份IDE、E¯的QR、时间戳ts4、该交易主要组成部分的哈希值htxQ &#x3D; H(λ2, IDE, QR, ts4)，即txqr的标识符，以及E的签名σE &#x3D; SignE(htxQ)。如图3所示，每个HN将吊销列表本地存储在MPT结构中，并基于txqr从列表中添加或删除DNs。如果本地吊销列表的吊销根与新Sblock中的吊销根相同，则该HN与其他HN保持相同的吊销列表。</p>
<h2 id="8的结论"><a href="#8的结论" class="headerlink" title="8的结论"></a>8的结论</h2><p>在这项工作中，我们提出了一种新的基于双区块链的EMR共享协议，该协议具有基于身份的三方认证密钥协议，以确保多家医院之间EMR共享的安全性和隐私性。我们提出的协议有三个主要贡献。首先，我们提出了一种跨医院电子病历共享架构，该架构利用两个区块链，用于存储电子病历的医疗区块链和用于监控医疗区块链的监管区块链。该体系结构在参与实体之间建立了信任关系。其次，我们详细设计了双区块链的区块结构和数据交互，以确保系统在正常和紧急情况下的可用性和效率。</p>
<p>第三，我们结合TAKA协议和双哈希链，有效地为不同的emr生成唯一的会话密钥。这种方法保证了系统的保密性、前向和后向安全性。此外，我们还演示了我们的解决方案满足预期的安全目标。最后，我们根据计算成本和通信开销来评估所提出协议的性能。</p>
<p>在未来的工作中，我们计划实现一个不需要双线性配对操作的匿名认证密钥协议，以进一步提高效率。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">→╋ぁ陈ぁ╋←</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/12/08/%E5%8C%BB%E7%96%97/">http://example.com/2023/12/08/%E5%8C%BB%E7%96%97/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">cyc的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/04/19/%E5%8F%AF%E6%90%9C%E7%B4%A2%E5%8A%A0%E5%AF%86%E5%8F%8C%E9%93%BE/" title="基于公有和私有区块链的隐私保护可搜索加密方案"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">基于公有和私有区块链的隐私保护可搜索加密方案</div></div></a></div><div class="next-post pull-right"><a href="/2023/12/08/%E8%BD%A6%E8%BD%BD%E7%BD%91/" title="车载网"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">车载网</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">→╋ぁ陈ぁ╋←</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#why"><span class="toc-number">1.</span> <span class="toc-text">why</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A5%E6%82%A3%E8%80%85%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%9A%84%E7%BB%86%E7%B2%92%E5%BA%A6%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%8C%E9%80%9A%E8%BF%87%E5%8F%8C%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E5%85%B1%E4%BA%AB%E7%94%B5%E5%AD%90%E7%97%85%E5%8E%86"><span class="toc-number">2.</span> <span class="toc-text">以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#why-1"><span class="toc-number">2.0.0.1.</span> <span class="toc-text">why:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#what"><span class="toc-number">2.0.0.2.</span> <span class="toc-text">what:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HOW"><span class="toc-number">2.0.0.3.</span> <span class="toc-text">HOW:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA"><span class="toc-number">2.1.</span> <span class="toc-text">4系统构建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6"><span class="toc-number">2.1.1.</span> <span class="toc-text">4.1系统框架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hospital-Node-HN"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">Hospital Node (HN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Doctor-Node-DN"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">Doctor Node (DN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Patient-Node-PN"><span class="toc-number">2.1.1.3.</span> <span class="toc-text">Patient Node (PN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Medical-Blockchain-MEDchain"><span class="toc-number">2.1.1.4.</span> <span class="toc-text">Medical Blockchain (MEDchain)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Supervision-Blockchain-SUPchain"><span class="toc-number">2.1.1.5.</span> <span class="toc-text">Supervision Blockchain (SUPchain)</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A5%E6%82%A3%E8%80%85%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%9A%84%E7%BB%86%E7%B2%92%E5%BA%A6%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%8C%E9%80%9A%E8%BF%87%E5%8F%8C%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E5%85%B1%E4%BA%AB%E7%94%B5%E5%AD%90%E7%97%85%E5%8E%86-1"><span class="toc-number">3.</span> <span class="toc-text">以患者为中心的细粒度访问控制，通过双区块链安全共享电子病历</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%91%98%E8%A6%81"><span class="toc-number">3.1.</span> <span class="toc-text">摘要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.2.</span> <span class="toc-text">1介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E7%9B%B8%E5%85%B3%E5%B7%A5%E4%BD%9C"><span class="toc-number">3.3.</span> <span class="toc-text">2相关工作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E5%9F%BA%E4%BA%8E%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84EMR%E5%85%B1%E4%BA%AB"><span class="toc-number">3.3.1.</span> <span class="toc-text">2.1基于区块链的EMR共享</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E8%AE%A4%E8%AF%81%E5%AF%86%E9%92%A5%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.3.2.</span> <span class="toc-text">2.2认证密钥协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E9%A2%84%E8%B5%9B"><span class="toc-number">3.4.</span> <span class="toc-text">3预赛</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%98%A0%E5%B0%84"><span class="toc-number">3.4.1.</span> <span class="toc-text">3.1双线性映射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E5%A4%8D%E6%9D%82%E6%80%A7%E5%81%87%E8%AE%BE"><span class="toc-number">3.4.2.</span> <span class="toc-text">3.2复杂性假设</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-1"><span class="toc-number">3.5.</span> <span class="toc-text">4系统构建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6-1"><span class="toc-number">3.5.1.</span> <span class="toc-text">4.1系统框架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hospital-Node-HN-1"><span class="toc-number">3.5.1.1.</span> <span class="toc-text">Hospital Node (HN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Doctor-Node-DN-1"><span class="toc-number">3.5.1.2.</span> <span class="toc-text">Doctor Node (DN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Patient-Node-PN-1"><span class="toc-number">3.5.1.3.</span> <span class="toc-text">Patient Node (PN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Medical-Blockchain-MEDchain-1"><span class="toc-number">3.5.1.4.</span> <span class="toc-text">Medical Blockchain (MEDchain)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Supervision-Blockchain-SUPchain-1"><span class="toc-number">3.5.1.5.</span> <span class="toc-text">Supervision Blockchain (SUPchain)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E5%85%B1%E8%AF%86%E6%9C%BA%E5%88%B6"><span class="toc-number">3.5.2.</span> <span class="toc-text">4.2共识机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%AE%89%E5%85%A8%E7%9B%AE%E6%A0%87"><span class="toc-number">3.5.3.</span> <span class="toc-text">4.3威胁模型和安全目标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.6.</span> <span class="toc-text">5协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1%E6%96%B9%E6%A1%88%E6%A6%82%E8%BF%B0"><span class="toc-number">3.6.1.</span> <span class="toc-text">5.1方案概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2%E5%8D%8F%E8%AE%AE%E8%AF%B4%E6%98%8E"><span class="toc-number">3.6.2.</span> <span class="toc-text">5.2协议说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B6%E6%AE%B51%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.6.2.1.</span> <span class="toc-text">阶段1系统设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B6%E6%AE%B52%E6%B3%A8%E5%86%8C"><span class="toc-number">3.6.2.2.</span> <span class="toc-text">阶段2注册</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%E7%94%B5%E5%AD%90%E7%97%85%E5%8E%86%E7%AE%A1%E7%90%86"><span class="toc-number">3.6.2.3.</span> <span class="toc-text">第三阶段电子病历管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5EMR%E5%85%B1%E4%BA%AB"><span class="toc-number">3.6.2.4.</span> <span class="toc-text">第四阶段EMR共享</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B2%E5%BA%94%E6%80%A5EMR%E5%85%B1%E4%BA%AB"><span class="toc-number">3.6.2.5.</span> <span class="toc-text">案例2应急EMR共享</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E9%98%B6%E6%AE%B5%E7%9B%91%E7%9D%A3"><span class="toc-number">3.6.2.6.</span> <span class="toc-text">第五阶段监督</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E7%9A%84%E7%BB%93%E8%AE%BA"><span class="toc-number">3.7.</span> <span class="toc-text">8的结论</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/26/%E9%A2%84%E6%8E%A8%E5%85%8D%E5%87%86%E5%A4%87/" title="预推免准备">预推免准备</a><time datetime="2024-09-26T07:00:29.000Z" title="发表于 2024-09-26 15:00:29">2024-09-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/12/%E4%B8%80%E4%B8%AA%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E5%92%8C%E5%8F%AF%E9%87%8D%E5%86%99%E7%9A%84%E5%8C%BB%E7%96%97%E5%8C%BA%E5%9D%97%E9%93%BE%E7%B3%BB%E7%BB%9F/" title="一个隐私保护和可重写的医疗区块链系统">一个隐私保护和可重写的医疗区块链系统</a><time datetime="2024-07-12T15:47:21.000Z" title="发表于 2024-07-12 23:47:21">2024-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/12/%E4%BD%BF%E7%94%A8Trapdoor-Hash%E7%9A%84%E7%BB%86%E7%B2%92%E5%BA%A6%E5%8F%AF%E8%AF%BB%E5%8C%BA%E5%9D%97%E9%93%BE/" title="使用Trapdoor-Hash的细粒度可编辑区块链">使用Trapdoor-Hash的细粒度可编辑区块链</a><time datetime="2024-07-12T15:47:21.000Z" title="发表于 2024-07-12 23:47:21">2024-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/12/PRBFPT%E4%B8%80%E4%B8%AA%E5%B8%A6%E6%9C%89%E5%85%AC%E5%85%B1%E9%99%B7%E9%98%B1%E9%97%A8%E7%9A%84%E5%AE%9E%E7%94%A8%E5%8F%AF%E9%87%8D%E6%9E%84%E5%8C%BA%E5%9D%97%E9%93%BE%E6%A1%86%E6%9E%B6/" title="PRBFPT:一个带有公共陷阱门的实用可重构区块链框架">PRBFPT:一个带有公共陷阱门的实用可重构区块链框架</a><time datetime="2024-07-12T15:47:21.000Z" title="发表于 2024-07-12 23:47:21">2024-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/12/%E5%9F%BA%E4%BA%8E%E5%8F%AF%E8%AF%BB%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%AE%89%E5%85%A8%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/" title="基于可读区块链的安全可靠数据管理">基于可读区块链的安全可靠数据管理</a><time datetime="2024-07-12T15:47:21.000Z" title="发表于 2024-07-12 23:47:21">2024-07-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By →╋ぁ陈ぁ╋←</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>